<% if @game.errors.any? %>
  <div class="alert alert-danger">
    <h4>Des erreurs ont empêché l'enregistrement :</h4>
    <ul>
      <% @game.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<h1 class="text-center fw-bold text-black">
  <%= @game.new_record? ? "Ajouter un jeu" : "Modifier un jeu" %>
</h1>

<div class="container py-4 mb-5">
  <div class="row justify-content-center">
    <div class="col-12 col-md-8 col-lg-6">
      <div class="bg-white rounded p-4 shadow">

        <%= simple_form_for @game, html: { class: "simple_form" } do |f| %>
          <%= f.input :title, label: "Titre du jeu" %>

          <%= f.input :game_type_ids,
            as: :check_boxes,
            collection: GameType.all.pluck(:name, :id),
            label: "Types de jeu",
            item_wrapper_class: "form-check form-check-inline",
            label_html: { class: "form-label mt-3" } %>

          <%= f.input :platform_ids,
            as: :check_boxes,
            collection: Platform.all.pluck(:name, :id),
            label: "Plateformes disponibles",
            item_wrapper_class: "form-check form-check-inline",
            label_html: { class: "form-label mt-3" } %>

          <%= f.input :description, as: :text, input_html: { rows: 3 }, label: "Description" %>

          <%= f.input :exit_date, as: :date, label: "Date de sortie" %>
          <%= f.input :min_player, min: 1, label: "Nombre minimum de joueurs" %>
          <%= f.input :min_age, min: 3, label: "Âge minimum", input_html: { placeholder: "3" } %>
          <%= f.input :price, min: 0, step: 0.01, label: "Prix (€)", input_html: { placeholder: "0" } %>

          <%= f.input :studio_id,
            collection: Studio.all.pluck(:name, :id),
            prompt: "Sélectionne un studio",
            label: "Nom du studio de développement" %>

          <div class="d-grid gap-2 mt-4">
            <%= f.button :submit,
              @game.new_record? ? "Ajouter" : "Mettre à jour",
              class: "btn btn-add text-white py-3 rounded-pill" %>
          </div>
        <% end %>

      </div>
    </div>
  </div>
</div>
